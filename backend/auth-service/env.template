# ============================================
# Keysha Auth Service - Environment Variables
# ============================================
# Copy this file to .env and fill in the values below
# Command: cp env.template .env

# ============================================
# Server Configuration
# ============================================
PORT=3001
NODE_ENV=development

# ============================================
# Google OAuth 2.0 Credentials
# ============================================
# Get these from: https://console.cloud.google.com/apis/credentials
# 1. Go to Google Cloud Console
# 2. Create/Select a project
# 3. Enable Google+ API and Gmail API
# 4. Create OAuth 2.0 Client ID (Web application)
# 5. Add redirect URI: http://localhost:3000/auth/callback
# 6. Copy Client ID and Client Secret here

GOOGLE_CLIENT_ID=YOUR_GOOGLE_CLIENT_ID_HERE
GOOGLE_CLIENT_SECRET=YOUR_GOOGLE_CLIENT_SECRET_HERE
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/callback

# ============================================
# MongoDB Atlas Connection
# ============================================
# Get this from: https://www.mongodb.com/cloud/atlas
# 1. Create a free MongoDB Atlas account
# 2. Create a cluster (free tier: M0)
# 3. Create a database user (username/password)
# 4. Whitelist your IP (or 0.0.0.0/0 for development)
# 5. Click "Connect" â†’ "Connect your application"
# 6. Copy the connection string
# Format: mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority

MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/keysha?retryWrites=true&w=majority

# ============================================
# JWT Configuration
# ============================================
# Generate a strong random secret (minimum 32 characters)
# Run this command: openssl rand -base64 32
# Or use: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"

JWT_SECRET=YOUR_JWT_SECRET_HERE_MINIMUM_32_CHARACTERS_LONG
JWT_EXPIRES_IN=1h

# ============================================
# Frontend URL (for CORS)
# ============================================
# This is where your React frontend is running
# Update this if your frontend runs on a different port

FRONTEND_URL=http://localhost:3000

# ============================================
# Service Token (for service-to-service auth)
# ============================================
# This is a shared secret between auth-service and integration-service
# Used for webhooks to authenticate without user JWT tokens
# Generate with: openssl rand -hex 32
# MUST match the SERVICE_TOKEN in integration-service/.env
SERVICE_TOKEN=14bbe2c4b252dc544c59b93654e949c874e1134be2474bac218142c12c8ee14e

# ============================================
# Encryption Key for Refresh Tokens
# ============================================
# Generate with: openssl rand -base64 32
# Or use: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# This encrypts refresh tokens before storing in MongoDB
# MUST be exactly 32 bytes (base64 encoded = 44 characters)

ENCRYPTION_KEY=YOUR_32_BYTE_ENCRYPTION_KEY_HERE_BASE64_ENCODED

# ============================================
# Quick Commands to Generate Secrets:
# ============================================
# JWT_SECRET:
#   openssl rand -base64 32
#
# ENCRYPTION_KEY:
#   openssl rand -base64 32
#
# Or using Node.js:
#   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
