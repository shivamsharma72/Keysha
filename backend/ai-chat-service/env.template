# ============================================
# Keysha AI Chat Service - Environment Variables
# ============================================
# Copy this file to .env and fill in the values below
# Command: cp env.template .env

# ============================================
# Server Configuration
# ============================================
PORT=8000
NODE_ENV=development

# ============================================
# MongoDB Atlas Connection (with Vector Search)
# ============================================
# Get this from: https://www.mongodb.com/cloud/atlas
# Same MongoDB cluster as other services
# Format: mongodb+srv://username:password@cluster.mongodb.net/keysha?retryWrites=true&w=majority
# 
# IMPORTANT: Make sure Vector Search is enabled on the "user_context" collection
# Create a vector index:
# - Collection: user_context
# - Index name: vector_index
# - Type: Vector Search
# - Field: embedding
# - Dimensions: 768 (for Google text-embedding-004)

MONGODB_URI=mongodb+srv://keysha_admin:w4CMB3ha8OTjCzQd@cluster.mongodb.net/keysha?retryWrites=true&w=majority

# ============================================
# Google Gemini API Key
# ============================================
# Get this from: https://aistudio.google.com/app/apikey
# 1. Go to Google AI Studio
# 2. Click "Get API Key"
# 3. Create a new API key or use existing one
# 4. Copy the API key here

GEMINI_API_KEY=your_gemini_api_key_here

# ============================================
# Service URLs (Other Microservices)
# ============================================
# URLs for communicating with other Keysha services

# Auth Service - For getting user Google OAuth tokens
AUTH_SERVICE_URL=http://localhost:3001

# Item Service - For CRUD operations on tasks/reminders/events
ITEM_SERVICE_URL=http://localhost:3002

# Integration Service - For calendar sync operations (optional)
INTEGRATION_SERVICE_URL=http://localhost:3003

# ============================================
# Service Token (for service-to-service auth)
# ============================================
# This MUST match the SERVICE_TOKEN in:
# - backend/auth-service/.env
# - backend/integration-service/.env
# 
# Used for webhooks and internal service calls
# Generate with: openssl rand -hex 32

SERVICE_TOKEN=14bbe2c4b252dc544c59b93654e949c874e1134be2474bac218142c12c8ee14e

# ============================================
# MCP Server Configuration
# ============================================
# Paths to the MCP Google Workspace server (Node.js)
# These are relative to the ai-chat-service directory

# Path to MCP server directory
MCP_SERVER_PATH=../mcp-google-workspace

# Path to Google OAuth credentials file (used by MCP server)
# This file should contain your Google OAuth 2.0 credentials
# Format: See mcp-google-workspace/.gauth.json.example
MCP_GAUTH_FILE=../mcp-google-workspace/.gauth.json

# Path to accounts configuration file (used by MCP server)
# This file lists which Google accounts can use the MCP server
# Format: See mcp-google-workspace/.accounts.json.example
MCP_ACCOUNTS_FILE=../mcp-google-workspace/.accounts.json

# ============================================
# Frontend URL (for CORS)
# ============================================
# Where your React frontend is running
# Update this if your frontend runs on a different port

FRONTEND_URL=http://localhost:3000

# ============================================
# Optional: Embedding Model Configuration
# ============================================
# For MongoDB Vector Search
# Default: text-embedding-004 (Google)
# Dimensions: 768

# EMBEDDING_MODEL=text-embedding-004
# EMBEDDING_DIMENSIONS=768

# ============================================
# Quick Setup Checklist:
# ============================================
# ✅ Copy this file to .env
# ✅ Fill in MONGODB_URI (same as other services)
# ✅ Get GEMINI_API_KEY from Google AI Studio
# ✅ Set SERVICE_TOKEN (must match other services)
# ✅ Configure MCP server paths (if using MCP)
# ✅ Create MongoDB Vector Search index on user_context collection
